import{Application}from"@splinetool/runtime";const canvas=document.getElementById("canvas3d"),app=new Application(canvas);app.load("https://prod.spline.design/InTlwsiTzD43YNYd/scene.splinecode");
class Grain{constructor(e){this.patternSize=150,this.patternScaleX=1,this.patternScaleY=1,this.patternRefreshInterval=3,this.patternAlpha=15,this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.ctx.scale(this.patternScaleX,this.patternScaleY),this.patternCanvas=document.createElement("canvas"),this.patternCanvas.width=this.patternSize,this.patternCanvas.height=this.patternSize,this.patternCtx=this.patternCanvas.getContext("2d"),this.patternData=this.patternCtx.createImageData(this.patternSize,this.patternSize),this.patternPixelDataLength=this.patternSize*this.patternSize*4,this.resize=this.resize.bind(this),this.loop=this.loop.bind(this),this.frame=0,window.addEventListener("resize",this.resize),this.resize(),window.requestAnimationFrame(this.loop)}resize(){this.canvas.width=window.innerWidth*devicePixelRatio,this.canvas.height=window.innerHeight*devicePixelRatio}update(){const{patternPixelDataLength:e,patternData:t,patternAlpha:a,patternCtx:n}=this;for(let n=0;n<e;n+=4){const e=255*Math.random();t.data[n]=e,t.data[n+1]=e,t.data[n+2]=e,t.data[n+3]=a}n.putImageData(t,0,0)}draw(){const{ctx:e,patternCanvas:t,canvas:a,viewHeight:n}=this,{width:i,height:r}=a;e.clearRect(0,0,i,r),e.fillStyle=e.createPattern(t,"repeat"),e.fillRect(0,0,i,r)}loop(){++this.frame%this.patternRefreshInterval==0&&(this.update(),this.draw()),window.requestAnimationFrame(this.loop)}}const el=document.querySelector(".grain"),grain=new Grain(el),slides=document.querySelectorAll(".skill-name"),left=document.querySelector(".left"),right=document.querySelector(".right");let currentSlide=0;function showSlide(e){slides.forEach((e=>{e.classList.remove("active")})),slides[e].classList.add("active")}left.addEventListener("click",(e=>{e.preventDefault(),currentSlide++,currentSlide===slides.length&&(currentSlide=0),showSlide(currentSlide)})),right.addEventListener("click",(e=>{e.preventDefault(),currentSlide--,currentSlide<0&&(currentSlide=slides.length-1),showSlide(currentSlide)})),showSlide(currentSlide);let hamburger=document.querySelector(".hamburger"),nmenu=document.querySelector(".nav-menu");hamburger.onclick=function(){nmenu.classList.toggle("active-burger")},window.addEventListener("resize",(function(){nmenu.classList.remove("active-burger")}));const headerSection=document.querySelector(".header");let lastScrollTop=0;function menuBackground(){let e=window.pageYOffset||document.documentElement.scrollTop;nmenu.classList.remove("active-burger"),lastScrollTop=e<=0?0:e}window.addEventListener("scroll",menuBackground);const links=document.querySelectorAll('a[href^="#"]');links.forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();const a=e.getAttribute("href");document.querySelector(a).scrollIntoView({behavior:"smooth"})}))}));let zSpacing=-1e3,lastPos=zSpacing/5;$frames=document.getElementsByClassName("my-work"),frames=Array.from($frames),zVal=[],window.onscroll=function(){let e=document.documentElement.scrollTop,t=lastPos-e;lastPos=e,frames.forEach((function(e,a){zVal.push(a*zSpacing+zSpacing),zVal[a]+=-5*t;let n=frames[a];transforn=`translateZ(${zVal[a]}px)`,opacity=zVal[a]<Math.abc(zSpacing)/1.8?1:0,n.setAttribute("style",`trahsform: ${transforn}; opacity: ${opacity};`)}))},window.scrollTo(0,1);